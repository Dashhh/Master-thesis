%
% Niniejszy plik stanowi przykład formatowania pracy magisterskiej na
% Wydziale MIM UW.  Szkielet użytych poleceń można wykorzystywać do
% woli, np. formatujac wlasna prace.
%
% Zawartosc merytoryczna stanowi oryginalnosiagniecie
% naukowosciowe Marcina Wolinskiego.  Wszelkie prawa zastrzeżone.
%
% Copyright (c) 2001 by Marcin Woliński <M.Wolinski@gust.org.pl>
% Poprawki spowodowane zmianami przepisów - Marcin Szczuka, 1.10.2004
% Poprawki spowodowane zmianami przepisow i ujednolicenie 
% - Seweryn Karłowicz, 05.05.2006
% Dodanie wielu autorów i tłumaczenia na angielski - Kuba Pochrybniak, 29.11.2016

% dodaj opcję [licencjacka] dla pracy licencjackiej
% dodaj opcję [en] dla wersji angielskiej (mogą być obie: [licencjacka,en])
\documentclass[en]{pracamgr}

% Dane magistranta:
\autor{Adam Starak}{361021}

% TODO[Dodaj tytuł]
\title{Title in English}
\titlepl{Tytuł po polsku}

%\tytulang{An implementation of a difference blabalizer based on the theory of $\sigma$ -- $\rho$ phetors}

%kierunek: 
% - matematyka, informacyka, ...
% - Mathematics, Computer Science, ...
\kierunek{Computer Science}

% informatyka - nie okreslamy zakresu (opcja zakomentowana)
% matematyka - zakres moze pozostac nieokreslony,
% a jesli ma byc okreslony dla pracy mgr,
% to przyjmuje jedna z wartosci:
% {metod matematycznych w finansach}
% {metod matematycznych w ubezpieczeniach}
% {matematyki stosowanej}
% {nauczania matematyki}
% Dla pracy licencjackiej mamy natomiast
% mozliwosc wpisania takiej wartosci zakresu:
% {Jednoczesnych Studiow Ekonomiczno--Matematycznych}

% \zakres{Tu wpisac, jesli trzeba, jedna z opcji podanych wyzej}

% Praca wykonana pod kierunkiem:
% (podać tytuł/stopień imię i nazwisko opiekuna
% Instytut
% ew. Wydział ew. Uczelnia (jeżeli nie MIM UW))
\opiekun{dr Michał Pilipczuk\\
  Instytut Informatyki\\
  }

% miesiąc i~rok:
\date{May 2017}

%Podać dziedzinę wg klasyfikacji Socrates-Erasmus:
\dziedzina{ 
%11.0 Matematyka, Informatyka:\\ 
%11.1 Matematyka\\ 
%11.2 Statystyka\\ 
11.3 Informatyka\\ 
%11.4 Sztuczna inteligencja\\ 
%11.5 Nauki aktuarialne\\
%11.9 Inne nauki matematyczne i informatyczne
}

%Klasyfikacja tematyczna wedlug AMS (matematyka) lub ACM (informatyka)
%TODO - dodać klasyfikację
\klasyfikacja{D. Software\\
  D.127. Blabalgorithms\\
  D.127.6. Numerical blabalysis}

%TODO - dodać słowa kluczowe]
% Słowa kluczowe:
\keywords{parameterized algorithm}

% Tu jest dobre miejsce na Twoje własne makra i~środowiska:

\usepackage{chngcntr}
\usepackage{amsthm}
\usepackage[]{algorithm2e}

\newtheorem{defi}{Definition}
\newtheorem{theorem}{Theorem}
\newtheorem{lemma}{Lemma}
\newtheorem{claim}{Claim}
\newcommand{\ssf}{\emph{Spanning Star Forest}}
\newcommand{\ssfp}{\emph{Spanning Star Forest Problem}}
\newcommand{\domset}{\emph{Dominating Set Problem}}
\newcommand{\kssf}{\emph{Spanning Star Forest Problem} parameterized by the number of stars}

\counterwithin{theorem}{chapter}
\counterwithin{defi}{chapter}
\counterwithin{lemma}{chapter}
\counterwithin{claim}{chapter}

% koniec definicji

\begin{document}
\maketitle

%tu idzie streszczenie na strone poczatkowa
%TODO - dodaj abstract
\begin{abstract}
  W~pracy przedstawiono prototypową implementację blabalizatora
  różnicowego bazującą na teorii fetorów $\sigma$-$\rho$ profesora
  Fifaka.  Wykorzystanie teorii Fifaka daje wreszcie możliwość
  efektywnego wykonania blabalizy numerycznej.  Fakt ten stanowi
  przełom technologiczny, którego konsekwencje trudno z~góry
  przewidzieć.
\end{abstract}

\tableofcontents
%\listoffigures
%\listoftables

\chapter*{Introduction}
\addcontentsline{toc}{chapter}{Introduction}

Blabalizator różnicowy jest podstawowym narzędziem blabalii
fetorycznej.  Dlatego naukowcy z~całego świata prześcigają się
w~próbach efektywnej implementacji.  Opracowana przez prof. Fifaka
teoria fetorów $\sigma$-$\rho$ otwiera w~tej dziedzinie nowe
możliwości.  Wykorzystujemy je w~niniejszej pracy.

\chapter{Basic definitions}\label{r:pojecia}

\section{Structures}

A simple graph $G$ is a pair $(V,E)$ where $V$ denotes a set of vertices
and $E$ denotes a set of undirected edges. Let $deg_G(v)$ denote a degree
of vertex v in graph $G$. Let $G \setminus \{v\}$ be the abbreviation for
$G'=(V(G) \setminus \{v\}, E(G) \setminus \{(u,v): u \in V(G)\})$.A \emph{tree} $T$ is a graph where two
vertices are connected by excatly one path. A \emph{spanning tree} $T$ of a
graph $G$ is a graph which includes all of the vertices of $G$, with minimum
possible number of edges. A \emph{star} $S$ is a tree of size at least 2
for which at most 1 vertex has a degree greater than $1$. A vertex in a \emph{star} that has the greatest degree is called a \emph{center} while the others are called \emph{rays}.


\section{Parameterized complexity}

\begin{defi}\label{Parameterized problem}
	Parameterized problem
\end{defi}

\begin{defi}\label{FPT algorithm}
	FPT algorithm
\end{defi}

\begin{defi}\label{Kernel}
	Kernel
\end{defi}

\begin{defi}\label{Kernelization algorithm}
	Kernelization algorithm
\end{defi}

\section{Graph decomposition}

\begin{defi}\label{Pathwidth}
	Path decomposition and pathwidth
\end{defi}

\begin{defi}\label{Treewidth}
	Tree decomposition and treewidth
\end{defi}

\begin{defi}\label{nice tree decomposition}
	Nice tree decomposition
\end{defi}

\chapter{Spanning Star Forest Problem}\label{r:losers}

For a given graph $G$, we say that $S$ is a \ssf{} if every connected component $C$ is a star. In the \ssfp{} given a graph $G$, the objective is to determine whether there exists a \ssf{}.

It turns out that the problem formulated in such a way is relatively simple. Although, various parametrizations described in this paper make it more complex. The following lemma easily clarifies all the concerns about it's hardness.

\begin{lemma}\label{SSF lemma}
 A graph $G$ has a Spanning Star Forest if and only if it does not contain any isolated vertices.
\end{lemma}

\begin{proof}
	If $G$ has a \ssf{} $S$, then trivially for all $v \in V(G)\ 1 \leq deg_S(v) \leq deg_G(v)$. Thus, none of the vertices is isolated.
	
	%TODO |V(G)|=2 wychodzi poza linię.
	For the opposite direction, we prove the lemma by induction on $|V(G)|$. Assume ${|V(G)|=2}$. The statement trivially holds because a graph representing an edge is a correct \ssf. Let $|V(G)| >2$. Suppose that there does not exist a vertex $v$ such that $G \setminus \{v\}$ has no isolated vertices. Then, it holds that for all $v \in V(G)\ deg_G(v)=1$ so $G$ itself	is a correct \ssf{}. Now, suppose that $v$ is a vertex such that $G \setminus \{v\}$ has no isolated vertices. From the inductive assumption, let $S$ be a \ssf{} of a graph $G \setminus \{v\}$, $u$ be a vertex such that $(u,v) \in E(G)$ and $w$ be a vertex such that $w \in N_S(u)$. Consider the 3 following cases:
	\begin{enumerate}
		\item $deg_S(u) > 1$. Then, $S'=\big(V(S) \cup \{v\}, E(S) \cup \{(u,v)\}\big)$ is a correct solution for graph $G$.
		\item $deg_S(u) = deg_S(w) = 1$. Then, $S'=\big(V(S) \cup {v}, E(S) \cup
		(u,v)\big)$ is a correct solution for graph $G$.
		\item $deg_S(w) > 1$. Then, $S'=\big(V(S) \cup \{v\}, 
		(E(S) \cup \{(u,v)\}) \setminus \{(u,w)\}\big)$ is a correct solution for graph $G$.
	\end{enumerate}
		Observe that in graph $G$ there are no isolated vertices. Thus, one can always extend a solution inductively.
	
\end{proof}
	Application of Lemma \ref{SSF lemma} yields the following result for \ssfp{}.

\begin{theorem}
	Decision version of Spanning Star Forest Problem can be solved in linear time.
\end{theorem}

\begin{proof}
	Given an input $G = (V,E)$ the answer is YES if for all $v \in V(G)\ deg_G(v) \neq 0$ and NO otherwise.
\end{proof}

\section{Obtaining a solution}

In this section we focus on obtaining an arbitrary solution for a given instance of \ssfp{}. Firstly, let us introduce 2 claims in order to normalize the instance and make the algorithm look more clear.

\begin{claim} \label{SSF sum}
	Family of disjoint Spanning Star Forests is a Spanning Star Forest.
\end{claim}

\begin{claim} \label{Spanning tree SSF}
	$G$ has a Spanning Star Forest if and only if it's spanning tree $T$ has.
\end{claim}

The first claim can be trivially proven by the definition of \ssfp{} while the second one follows directly from Lemma \ref{SSF lemma}. Equipped with this information, all that is left to do, is to design an algorithm which solves \ssfp{} for trees.

\begin{algorithm}\label{alg1}
	\KwData{Graph G}
	\KwResult{Spanning Star Forest of T}
	$T \leftarrow$ $SpanningTree(G)$\;
	$S \leftarrow$ $\emptyset$\;
	\For{v: postorder(T) and v $\notin$ V(S)}{
		\eIf{v is not a root}{
			S $\leftarrow S \cup \{(u,v)\}$ where $u = parent(v)$
		}{
			S $\leftarrow S \cup \{(u,v)\}$ where $u$ is any of the root's children
		}
	}
	\Return S
	\caption{Obtaining a Spanning Star Forest from a tree.}
\end{algorithm}

\begin{lemma}\label{alg1 correctness}
	Algorithm \ref{alg1} is correct.
\end{lemma}

\begin{proof}
	Assume contrary, that the algorithm yields an incorrect solution $S$. Consider
	the first case: a path $(u,v),(v,w),(w,z)$ exists in $S$ where $u$ is $v$'s 
	child, $v$ is $w$'s child and $w$ is $z$'s child. But, if $u$ is $w$'s
	grandchild and $(u,v),(v,w) \in S$, then it means that $w$ is a root. 
	Contradiction because $w$ cannot be $z$'s child.
	Now, suppose the alternative relationship: $u$ is $v$'s child, $v$ and $z$ are
	$w$'s children. Provided that vertices were visited in postorder, edge $(v,w)$
	should not have been added because $v$ was introduced by $u$ and $w$ was
	introduced by $z$.
\end{proof}

\begin{theorem}
	A solution for Spanning Star Forest Problem can be found in linear time.
\end{theorem}

\begin{proof}
	Spanning tree of any graph can be found in linear time. The main loop has $n$ 
	iterations (every vertex is visited once), each of which takes constant time.
	Thus, the total runtime is linear.
\end{proof}

\section{Spanning Star Forest parameterized by the number of stars}

In \ssfp{} parameterized by the number of stars, given a graph $G$ and a natural number $k$, the objective is to determine whether there exists a \ssf{} $S$ such that the number of connected components is less than $k$.

It is natural to ask whether one can find a solution that minimizes the number of connected components. The problem formulated in that way looks slightly different than the previous one. From the other hand, the problem resembles \domset{}, which is defined as follows:

\begin{defi}
	Dominating Set Problem: Given a graph $G$ and a positive integer k find a set $D$ such that $|D| \leq k$ and every vertex from the graph is adjacent to one of the vertices from $D$.
\end{defi}

It turns out, that the second comparison is true and \kssf{} is NP-Complete. The following theorem proves the statement:

\begin{theorem}\label{SSF DOM}
	Spanning Star Forest Parameterized by the number of stars is NP-Complete.
\end{theorem}

\begin{proof}
	Membership in NP: given an oracle $(O,k)$, we check whether the number of	components in $O$ is less than $k$ and whether every connected component	forms a star. The task can be easily done in polynomial time.\\
	
	We show hardness by a reduction from \domset{} that completes the proof. Let $(G,k)$ be an instance of it. We create a graph	$G'$ as follows: for every isolated vertex $v \in V(G)$ introduce a vertex $v'$ and an edge $(v,v')$. Now, we claim that $(G,k)$ is a YES-instance for \domset{} if and only if $(G'.k)$ is a YES-instance for \kssf{}. 
	
	The backward implication is simple. Suppose $S$ is a solution for $(G',k)$. We claim that a set $D$ representing centers of stars is a correct dominating set. Obviously $|D| \leq k$ because there are at most $k$ connected components. Every vertex from $G'$ is adjacent to one of the centers. If there exists a vertex $v' \in D$ such that $v' \notin V(G)$ we transform the solution as follows: $D := (D \setminus \{v'\})\cup \{v\}$. 
	
	To prove the forward implication, let $D$ be a solution for $(G,k)$. Without a loss of generality, assume that $D$ is an optimal solution. That is, the size of set $D$ is minimal. To create a correct solution $S$ for a \ssf{} instance, apply exhaustively the following rules in order:
	\begin{enumerate}
		\item Suppose $v \in D$ and $deg_S(v)=0$. If $N_{G'}(v) = \{u\}$, then add edge $(v,u)$ to the solution and remove $u$ from $G'$.
		\item Suppose $v \in D$ and $deg_S(v) = 0$. Add a random edge $(v,u)$ where $u \notin D$ to the solution and remove $u$ from $G'$.
		\item Add a random edge $(v,u)$ where $v \in D$ and $u \notin D$ and remove u from $G'$.
	\end{enumerate}

	To prove the correctness of the rules, assume contrary, that $S$ is not a valid \ssf{} of size at most $k$. Firstly, let us focus on the number of components. Obviously, $S$ has $|D|$ connected components because only edges $(v,u)$ where $v \in D$ and $u \notin D$ were introduced and $deg_S(u)=1$ for every $u \notin D$ because the vertices were deleted right after introduction of an edge. Additionally, we can infer that $S$ does not contain a path of length 4 which would prove the contrary. 
	
	So, assume that there exists $v \in V(S) \setminus D$ such that $deg_S(v)=0$. Contradiction, one can apply rule 3 because $v$ must have been dominated by a vertex in $G$. Now, assume that $v \in D$. Consider the following cases:
	\begin{enumerate}
		\item There exists $u \in N(v)$ such that $u \in D$. Contradiction, $D$ was said to be the optimal dominating set whereas $D \setminus \{u\}$ is a valid, smaller solution for a graph $G$.
		\item Suppose $u \in N_{G'}(v)$ and $w \in N_S(u)$. If $deg_S(w) > 1$, then rule 1 should have been applied to the edge $(v,u)$. Otherwise, if $deg_S(w)=1$, it is not an optimal solution for a dominating set because $((D \setminus \{v,w\}) \cup u)$ is a valid, smaller solution for a graph $G$.
	\end{enumerate}
	
\end{proof}




\begin{lemma}
	There exists a reduction from Spanning Star Forest parameterized by the
	number of stars to Dominating Set.
\end{lemma}
\begin{proof}
	Let $(G,k)$ be an instance of \ssfp{}. We create an instance $(G',k')$ for \domset{} as follows: let $G'=G$ and if $G$ contains an isolated vertex, then $k'=0$. Otherwise, the value remains the same. Now, we claim that $(G,k)$ is a YES-instance for \ssfp{} if and only if $(G',k')$ is a YES-instance for \domset.
	
	To prove the following reduction one can use the method which was described in Theorem \ref{SSF DOM} with a little remark: if an instance $(G,k)$ contains an isolated vertex, then obviously it is a NO-instance for \ssfp{} and so is $(G',k')$ for \domset{} because $G'$ is not an empty graph.
\end{proof}


\begin{thebibliography}{99}
\addcontentsline{toc}{chapter}{Bibliografia}

\bibitem[Bea65]{beaman} Juliusz Beaman, \textit{Morbidity of the Jolly
    function}, Mathematica Absurdica, 117 (1965) 338--9.

\bibitem[Blar16]{eb1} Elizjusz Blarbarucki, \textit{O pewnych
    aspektach pewnych aspektów}, Astrolog Polski, Zeszyt 16, Warszawa
  1916.

\bibitem[Fif00]{ffgg} Filigran Fifak, Gizbert Gryzogrzechotalski,
  \textit{O blabalii fetorycznej}, Materiały Konferencji Euroblabal
  2000.

\bibitem[Fif01]{ff-sr} Filigran Fifak, \textit{O fetorach
    $\sigma$-$\rho$}, Acta Fetorica, 2001.

\bibitem[Głomb04]{grglo} Gryzybór Głombaski, \textit{Parazytonikacja
    blabiczna fetorów --- nowa teoria wszystkiego}, Warszawa 1904.

\bibitem[Hopp96]{hopp} Claude Hopper, \textit{On some $\Pi$-hedral
    surfaces in quasi-quasi space}, Omnius University Press, 1996.

\bibitem[Leuk00]{leuk} Lechoslav Leukocyt, \textit{Oval mappings ab ovo},
  Materiały Białostockiej Konferencji Hodowców Drobiu, 2000.

\bibitem[Rozk93]{JR} Josip A.~Rozkosza, \textit{O pewnych własnościach
    pewnych funkcji}, Północnopomorski Dziennik Matematyczny 63491
  (1993).

\bibitem[Spy59]{spyrpt} Mrowclaw Spyrpt, \textit{A matrix is a matrix
    is a matrix}, Mat. Zburp., 91 (1959) 28--35.

\bibitem[Sri64]{srinis} Rajagopalachari Sriniswamiramanathan,
  \textit{Some expansions on the Flausgloten Theorem on locally
    congested lutches}, J. Math.  Soc., North Bombay, 13 (1964) 72--6.

\bibitem[Whi25]{russell} Alfred N. Whitehead, Bertrand Russell,
  \textit{Principia Mathematica}, Cambridge University Press, 1925.

\bibitem[Zen69]{heu} Zenon Zenon, \textit{Użyteczne heurystyki
    w~blabalizie}, Młody Technik, nr~11, 1969.

\end{thebibliography}

\end{document}


%%% Local Variables:
%%% mode: latex
%%% TeX-master: t
%%% coding: latin-2
%%% End:
